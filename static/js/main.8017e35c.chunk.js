(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{144:function(e,t,c){},146:function(e,t,c){},152:function(e,t,c){},153:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c(2),n=c.n(s),i=c(17),r=c.n(i),l=c(5),o=c.n(l),d=c(10),j=c(4),b=(c(79),"http://192.168.2.115:9008/api"),m=function(){var e=Object(d.a)(o.a.mark((function e(t,c,a){var s,n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s="".concat(b,"/").concat(t),"GET"!==a){e.next=11;break}return console.log("resp"),e.next=5,fetch(s);case 5:return n=e.sent,e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 11:return e.next=13,fetch(s,{method:a,headers:{"Content-type":"application/json"},body:JSON.stringify(c)});case 13:return i=e.sent,e.next=16,i.json();case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})));return function(t,c,a){return e.apply(this,arguments)}}(),u=function(){var e=Object(d.a)(o.a.mark((function e(t,c){var a,s,n,i,r,l=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=l.length>2&&void 0!==l[2]?l[2]:"GET",e.prev=1,s="".concat(b,"/").concat(t),n=localStorage.getItem("token")||"","GET"!==a){e.next=13;break}return e.next=7,fetch(s,{headers:{"x-token":n}});case 7:return i=e.sent,e.next=10,i.json();case 10:return e.abrupt("return",e.sent);case 13:return e.next=15,fetch(s,{method:a,headers:{"Content-type":"application/json","x-token":n},body:JSON.stringify(c)});case 15:return r=e.sent,e.next=18,r.json();case 18:return e.abrupt("return",e.sent);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t,c){return e.apply(this,arguments)}}(),h=Object(s.createContext)(),O={uid:null,checking:!0,logged:!1,name:null,email:null,foto:null,permisos:null,rol:null},x=function(e){var t=e.children,c=Object(s.useState)(O),n=Object(j.a)(c,2),i=n[0],r=n[1],l=function(){var e=Object(d.a)(o.a.mark((function e(t,c){var a,s,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("auth/login",{email:t,password:c},"POST");case 2:(a=e.sent).token&&(localStorage.setItem("token",a.token),s=a.usuario,n=a.rol,r({uid:s.id,checking:!1,logged:!0,name:s.nombre,email:s.email,roll:n,foto:s.foto}));case 4:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),b=function(){var e=Object(d.a)(o.a.mark((function e(t,c,a,s,n){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("login/new",{nombre:t,email:c,password:a,roll:s,data:n},"POST");case 2:if(!(i=e.sent).ok){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",i.msg);case 6:case"end":return e.stop()}}),e)})));return function(t,c,a,s,n){return e.apply(this,arguments)}}(),x=Object(s.useCallback)(Object(d.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("token")){e.next=4;break}return r({uid:null,checking:!1,logged:!1,name:null,email:null,roll:null,img:null}),e.abrupt("return",!1);case 4:return e.next=6,u("auth");case 6:if(!(t=e.sent).token){e.next=14;break}return localStorage.setItem("token",t.token),c=t.usuario,r({uid:c.id,checking:!1,logged:!0,name:c.nombre,email:c.email,roll:c.rol,foto:c.foto}),e.abrupt("return",!0);case 14:return r({id:null,checking:!1,logged:!1,name:null,email:null,foto:null,roll:null}),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e)}))),[]);return Object(a.jsx)(h.Provider,{value:{auth:i,login:l,register:b,verificaToken:x,logout:function(){localStorage.removeItem("token"),r({checking:!1,logged:!1})}},children:t})},p=c(80),f=c.n(p),v={cargarEmisores:"[emisores] carga listado de emisores",loadOnline:"[emisores] en linea",loadOffline:"[emisores]fuera  de linea",loadUsers:"[usuarios] carga listado de us",loadMkt:"[mikrotks] carga los mikrotiks",loadEmit:"[emisor] Carga datos del emisor"},g=c(28),N=c(3),y=function(e,t){switch(t.type){case v.cargarEmisores:return Object(N.a)(Object(N.a)({},e),{},{emisores:Object(g.a)(t.payload)});case v.loadMkt:return Object(N.a)(Object(N.a)({},e),{},{mikroTiks:Object(g.a)(t.payload)});case v.loadUsers:return Object(N.a)(Object(N.a)({},e),{},{usuarios:Object(g.a)(t.payload)});case v.loadPings:return Object(N.a)(Object(N.a)({},e),{},{pings:Object(g.a)(t.payload)});case v.loadOnline:return Object(N.a)(Object(N.a)({},e),{},{online:t.payload});case v.loadOffline:return Object(N.a)(Object(N.a)({},e),{},{offline:t.payload});case v.loadEmit:return Object(N.a)(Object(N.a)({},e),{},{emisorActivo:t.payload});case v.cerrarSesion:return{emisores:[],emisorAcitivo:{},mikroTiks:[],usuarios:[],frecuencia:0,widthChannel:0,lan:0,online:0,offline:0};default:return e}},k=Object(s.createContext)(),w={emisores:[],emisorActivo:{},mikroTiks:[],usuarios:[],frecuencia:0,widthChannel:0,lan:0,online:0,offline:0},C=function(e){var t=e.children,c=Object(s.useReducer)(y,w),n=Object(j.a)(c,2),i=n[0],r=n[1];return Object(a.jsx)(k.Provider,{value:{mainState:i,dispatch:r},children:t})},S=Object(s.createContext)(),E=function(e){var t=e.children,c=function(e){var t=Object(s.useState)(null),c=Object(j.a)(t,2),a=c[0],n=c[1],i=Object(s.useState)(!1),r=Object(j.a)(i,2),l=r[0],o=r[1],d=Object(s.useCallback)((function(){var t=localStorage.getItem("token"),c=f.a.connect(e,{transports:["websocket"],autoConnect:!0,forceNew:!0,query:{"x-token":t}});n(c)}),[e]),b=Object(s.useCallback)((function(){null===a||void 0===a||a.disconnect()}),[a]);return Object(s.useEffect)((function(){o(null===a||void 0===a?void 0:a.connected)}),[a]),Object(s.useEffect)((function(){null===a||void 0===a||a.on("connect",(function(){return o(!0)}))}),[a]),Object(s.useEffect)((function(){null===a||void 0===a||a.on("disconnect",(function(){return o(!1)}))}),[a]),{socket:a,online:l,conectarSocket:d,desconectarSocket:b}}("http://192.168.2.115:9008"),n=c.socket,i=c.online,r=c.conectarSocket,l=c.desconectarSocket,b=Object(s.useContext)(h).auth,m=Object(s.useContext)(k).dispatch;return Object(s.useEffect)((function(){b.logged&&r()}),[b,r]),Object(s.useEffect)((function(){b.logged||l()}),[b,l]),Object(s.useEffect)((function(){null===n||void 0===n||n.on("listEmit",function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m({type:v.cargarEmisores,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[n,m]),Object(s.useEffect)((function(){null===n||void 0===n||n.on("listMkts",function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m({type:v.loadMkt,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[n,m]),Object(s.useEffect)((function(){null===n||void 0===n||n.on("online",function(){var e=Object(d.a)(o.a.mark((function e(t){var c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.online,a=t.offline,m({type:v.loadOffline,payload:a}),m({type:v.loadOnline,payload:c});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[n,m]),Object(s.useEffect)((function(){null===n||void 0===n||n.on("listUsers",function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m({type:v.loadUsers,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[n,m]),Object(a.jsx)(S.Provider,{value:{socket:n,online:i},children:t})},M=c(13),A=c(8),P=c(11),T=c.p+"static/media/logo.ec95d3a1.png",U=c(27),I=(c(143),function(){var e=Object(s.useContext)(h).login,t=Object(s.useState)({email:"",password:"",rememberme:!1}),c=Object(j.a)(t,2),n=c[0],i=c[1];Object(s.useEffect)((function(){var e=localStorage.getItem("email");e&&i((function(t){return Object(N.a)(Object(N.a)({},t),{},{email:e,rememberme:!0})}))}),[]);var r=function(e){var t=e.target,c=t.name,a=t.value;i(Object(N.a)(Object(N.a)({},n),{},Object(P.a)({},c,a)))},l=function(){var t=Object(d.a)(o.a.mark((function t(c){var a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),n.rememberme?localStorage.setItem("email",n.email):localStorage.removeItem("email"),a=n.email,s=n.password,t.next=5,e(a,s);case 5:t.sent||U.b.error("Error, verifica que tus datos sean correctos!",{position:"top-center",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsxs)("form",{className:"login100-form validate-form flex-sb flex-w p-5 rounded",onSubmit:l,children:[Object(a.jsx)("img",{src:T,alt:"Runtimewifi",width:"85%",className:"m-3 align-items-center"}),Object(a.jsxs)("div",{className:"wrap-input100 validate-input mb-3",children:[Object(a.jsx)("input",{className:"input100",type:"email",name:"email",placeholder:"Email",value:n.email,onChange:r}),Object(a.jsx)("span",{className:"focus-input100"})]}),Object(a.jsxs)("div",{className:"wrap-input100 validate-input mb-3",children:[Object(a.jsx)("input",{className:"input100",type:"password",name:"password",placeholder:"Password",value:n.password,onChange:r}),Object(a.jsx)("span",{className:"focus-input100"})]}),Object(a.jsx)("div",{className:"row mb-3",children:Object(a.jsxs)("div",{className:"col",onClick:function(){i(Object(N.a)(Object(N.a)({},n),{},{rememberme:!n.rememberme}))},children:[Object(a.jsx)("input",{className:"input-checkbox100",id:"ckb1",type:"checkbox",name:"rememberme",checked:n.rememberme,readOnly:!0}),Object(a.jsx)("label",{className:"label-checkbox100",children:"Recordarme"})]})}),Object(a.jsxs)("div",{className:"container-login100-form-btn m-t-17 ",children:[Object(a.jsx)("button",{type:"submit",className:"login100-form-btn rounded-pill mb-2",disabled:!(n.email.length>0&&n.password.length>0),children:"Ingresar"}),Object(a.jsx)(M.b,{to:"/",children:"Olvide Contrase\xf1a"})]}),Object(a.jsx)(U.a,{})]})}),R=(c(144),function(){return Object(a.jsx)("div",{className:"limiter",children:Object(a.jsx)("div",{className:"container-login100",children:Object(a.jsx)("div",{className:"wrap-login100 p-t-50 p-b-90",children:Object(a.jsx)(A.d,{children:Object(a.jsx)(A.b,{exact:!0,path:"/login",element:Object(a.jsx)(I,{})})})})})})}),q=c(26),z=(c(145),c(12)),B=(c(146),function(){var e=Object(s.useContext)(h),t=e.auth,c=e.logout,n=t.name,i=t.foto,r=window.innerWidth,l=Object(s.useState)(!1),o=Object(j.a)(l,2),d=o[0],b=o[1];return r<600&&b(!0),Object(a.jsxs)(q.c,{image:"https://i.pinimg.com/originals/dd/b4/f0/ddb4f078c7dd7410799460380e8ed738.png",width:"15%",collapsed:d,children:[Object(a.jsx)(q.f,{children:Object(a.jsxs)("div",{className:"flex text-white justify-content-center align-self-lg-center",children:[i>0?Object(a.jsx)("img",{src:i,alt:n}):Object(a.jsx)(z.f,{className:"fs-2 m-3"}),Object(a.jsxs)("div",{className:"flex",style:{flexDirection:"row",display:"inline-block"},children:[Object(a.jsx)("b",{className:"fs-3 mt-2",children:n}),Object(a.jsx)("button",{type:"button",className:"btn text-white dropdown-toggle dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(a.jsx)("span",{className:"visually-hidden",children:"Toggle Dropdown"})}),Object(a.jsx)("ul",{className:"dropdown-menu bg-light",children:Object(a.jsx)("li",{className:" pe-auto m-1",onClick:c,children:"Salir"})})]})]})}),Object(a.jsx)(q.d,{children:Object(a.jsxs)(q.a,{iconShape:"square",children:[Object(a.jsxs)(q.b,{icon:Object(a.jsx)(z.b,{className:"bg-blue"}),children:["Dashboard ",Object(a.jsx)(M.b,{className:"nav-item nav-link",to:"/"})]}),Object(a.jsxs)(q.b,{icon:Object(a.jsx)(z.g,{}),children:["Usuarios ",Object(a.jsx)(M.b,{className:"nav-item nav-link",to:"/usuarios"})]})]})}),Object(a.jsx)(q.e,{children:Object(a.jsx)("div",{className:"text-center p3 m-3",children:Object(a.jsx)("img",{src:T,alt:"rwt",width:"50%"})})})]})}),D=c(54),_=(c(77),function(){var e=Object(s.useContext)(k).mainState,t=e.online,c=e.offline;return Object(a.jsxs)("div",{className:"row mx-2",children:[Object(a.jsx)("div",{className:"col-sm-4",children:Object(a.jsx)("div",{className:"card card-succ shadow  bg-body rounded",children:Object(a.jsxs)("div",{className:"card-body row",children:[Object(a.jsx)("div",{className:"col-4 text-center",children:Object(a.jsx)(D.a,{className:"icono2"})}),Object(a.jsxs)("div",{className:"col-8 text-center",children:[Object(a.jsx)("h6",{className:"card-title ",children:"Equipos Online"}),Object(a.jsx)("b",{className:"fs-3",children:t})]})]})})}),Object(a.jsx)("div",{className:"col-sm-4",children:Object(a.jsx)("div",{className:"card card-warn shadow  bg-body rounded",children:Object(a.jsxs)("div",{className:"card-body row",children:[Object(a.jsx)("div",{className:"col-4 text-center",children:Object(a.jsx)(D.b,{className:"icono"})}),Object(a.jsxs)("div",{className:"col-8 text-center",children:[Object(a.jsx)("h6",{className:"card-title ",children:"Equipos Offline"}),Object(a.jsx)("b",{className:"fs-3",children:c})]})]})})})]})}),H=c(155),L=c(156),F=c(157),V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(s.useState)(e),c=Object(j.a)(t,2),a=c[0],n=c[1],i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;n(t)},r=function(e){var t=e.target;n(Object(N.a)(Object(N.a)({},a),{},Object(P.a)({},t.name,t.value)))},l=function(e){n(e)};return[a,r,i,l]},G=function(e){var t=Object(s.useContext)(S).socket,c=e.emisor,n=e.radio,i=c.id,r=void 0===i?"":i,l=c.nombre,o=c.ip,d=c.puerto,b=c.signal,m=c.marca,u=c.modelo,h=c.comunidad,O=c.version,x=c.modo,p=c.tx,f=c.rx,v=Object(s.useState)(n),g=Object(j.a)(v,2),y=g[0],k=g[1],w=V({nombre:"",ip:"",puerto:"",signal:"",marca:"Mimosa",modelo:"",comunidad:"",version:"V1",modo:"AP",tx:"",rx:""}),C=Object(j.a)(w,3),E=C[0],M=C[1],A=C[2];Object(s.useEffect)((function(){P()}),[r]);var P=function(){0!==r.length&&A({nombre:l,ip:o,puerto:d,signal:b,marca:m,modelo:u,comunidad:h,version:O,modo:x,tx:p,rx:f})};return Object(a.jsxs)(H.a,{show:e.show,onHide:e.handleClose,animation:!1,children:[Object(a.jsx)(H.a.Header,{closeButton:!0,className:"bg-light",children:r.length>0?Object(a.jsx)("h5",{children:"Editar Emisor"}):Object(a.jsx)("h5",{children:"Nuevo Emisor"})}),Object(a.jsxs)(H.a.Body,{children:[Object(a.jsxs)(L.a,{children:[Object(a.jsxs)("div",{className:"mb-3 row",children:[Object(a.jsx)("label",{className:"col-sm-2 col-form-label",children:"Nombre"}),Object(a.jsx)("div",{className:"col-sm-10",children:Object(a.jsx)(L.a.Control,{id:"area",name:"nombre",value:E.nombre,onChange:M,placeholder:"Emisor"})})]}),Object(a.jsxs)("div",{className:"mb-3 row",children:[Object(a.jsx)("label",{className:"col-sm-2 col-form-label",children:"Ip"}),Object(a.jsx)("div",{className:"col-sm-10",children:Object(a.jsx)(L.a.Control,{name:"ip",value:E.ip,onChange:M,placeholder:"ip"})})]}),Object(a.jsxs)("div",{className:"mb-3 row",children:[Object(a.jsx)("label",{className:"col-sm-2 col-form-label",children:"Puerto"}),Object(a.jsx)("div",{className:"col-sm-4",children:Object(a.jsx)(L.a.Control,{name:"puerto",value:E.puerto,onChange:M,placeholder:"puerto"})}),Object(a.jsx)("label",{className:"col-sm-2 col-form-label",children:"Se\xf1al"}),Object(a.jsx)("div",{className:"col-sm-4",children:Object(a.jsx)(L.a.Control,{name:"signal",value:E.signal,onChange:M,placeholder:"Se\xf1al"})})]}),Object(a.jsxs)("div",{className:"mb-3 row",children:[Object(a.jsx)("label",{className:"col-sm-2 col-form-label",children:"Tx"}),Object(a.jsx)("div",{className:"col-sm-4",children:Object(a.jsx)(L.a.Control,{name:"tx",value:E.tx,onChange:M,placeholder:"TX"})}),Object(a.jsx)("label",{className:"col-sm-2 col-form-label",children:"Rx"}),Object(a.jsx)("div",{className:"col-sm-4",children:Object(a.jsx)(L.a.Control,{name:"rx",value:E.rx,onChange:M,placeholder:"RX"})})]}),Object(a.jsxs)("div",{className:"mb-3 row",children:[Object(a.jsx)("label",{className:"col-sm-2 col-form-label",children:"Marca"}),Object(a.jsx)("div",{className:"col-sm-10",children:Object(a.jsxs)(L.a.Select,{value:E.marca,onChange:M,name:"marca",children:[Object(a.jsx)("option",{children:"Mimosa"}),Object(a.jsx)("option",{children:"Ubiquiti"}),Object(a.jsx)("option",{children:"Ubiquiti AC"})]})})]}),Object(a.jsxs)("div",{className:"mb-3 row",children:[Object(a.jsx)("label",{className:"col-sm-2 col-form-label",children:"Modelo"}),Object(a.jsx)("div",{className:"col-sm-10",children:Object(a.jsx)(L.a.Control,{id:"area",name:"modelo",value:E.modelo,onChange:M,placeholder:"Modelo"})})]}),Object(a.jsxs)("div",{className:"mb-3 row",children:[Object(a.jsx)("label",{className:"col-sm-2 col-form-label",children:"Modo"}),Object(a.jsx)("div",{className:"col-sm-10",children:Object(a.jsxs)(L.a.Select,{name:"modo",value:E.modo,onChange:M,children:[Object(a.jsx)("option",{children:"AP"}),Object(a.jsx)("option",{children:"PTP"})]})})]}),Object(a.jsxs)("div",{className:"mb-3 row",children:[Object(a.jsx)("label",{className:"col-sm-2 col-form-label",children:"Monitoreo"}),Object(a.jsx)("div",{className:"col-sm-4",children:Object(a.jsx)(L.a.Check,{className:"ms-4 mt-2 ",type:"switch",id:"custom-switch3",name:"snmp",checked:y,onChange:function(){k(!y)}})}),Object(a.jsx)("label",{className:"col-sm-2 col-form-label",children:"Version"}),Object(a.jsx)("div",{className:"col-sm-4",children:Object(a.jsxs)(L.a.Select,{value:E.version,name:"version",onChange:M,children:[Object(a.jsx)("option",{children:"V1"}),Object(a.jsx)("option",{children:"V2"}),Object(a.jsx)("option",{children:"V3"})]})})]}),Object(a.jsxs)("div",{className:"mb-3 row",children:[Object(a.jsx)("label",{className:"col-sm-3 col-form-label",children:"Comunidad"}),Object(a.jsx)("div",{className:"col-sm-9",children:Object(a.jsx)(L.a.Control,{id:"area",name:"comunidad",value:E.comunidad,onChange:M,placeholder:"Comunidad"})})]})]}),"PTP"===E.modo&&"Mimosa"!==E.marca&&Object(a.jsx)("div",{className:"alert alert-warning text-xl-start p-1 m-1 ",role:"alert",children:"Asegurate de agregar los oids de las capacidades antes de activar el monitoreo"}),y&&Object(a.jsx)("div",{className:"alert alert-danger text-xl-start p-1 m-1",role:"alert",children:"*Asegurate de que el protocolo SNMP este activo en tu equipo"})]}),Object(a.jsxs)(H.a.Footer,{children:[Object(a.jsx)(F.a,{variant:"secondary",onClick:e.handleClose,children:"Calcelar"}),Object(a.jsx)(F.a,{variant:"primary",onClick:function(c){c.preventDefault();var a={nombre:E.nombre,ip:E.ip,puerto:E.puerto,signal:E.signal,marca:E.marca,modelo:E.modelo,monitoreo:y,comunidad:E.comunidad,version:E.version,modo:E.modo,tx:E.tx,rx:E.rx};r.length>0?t.emit("editEmisor",Object(N.a)({id:r},a)):t.emit("addEmisor",a),e.handleClose()},children:"Guardar"})]}),Object(a.jsx)(U.a,{})]})},J=function(){var e=Object(s.useContext)(S).socket,t=Object(s.useContext)(h).auth,c=Object(s.useState)(!1),n=Object(j.a)(c,2),i=n[0],r=n[1],l=Object(s.useState)(!1),o=Object(j.a)(l,2),d=o[0],b=o[1],m=Object(s.useState)(""),u=Object(j.a)(m,2),O=u[0],x=u[1],p=Object(s.useState)({}),f=Object(j.a)(p,2),v=f[0],g=f[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic mixed styles example",children:Object(a.jsx)("button",{type:"button",className:"btn btn-light btn-outline-primary",onClick:function(){0===v.monitoreo&&b(!1),g({}),r(!0)},children:"+ A\xf1adir"})}),Object(a.jsx)("div",{className:"d-flex",children:Object(a.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Buscar...","aria-label":"Search",value:O,onChange:function(c){var a=c.target;x(a.value),O.length>1?e.emit("getEmisor",{find:O,id_user:t.uid}):e.emit("getEmisorn",{find:O,id_user:t.uid})}})}),Object(a.jsx)(G,{show:i,handleClose:function(){r(!1)},emisor:v,radio:d})]})},X=c(39),W=function(e){var t=e.item,c=Object(s.useContext)(S).socket,n=Object(s.useContext)(h).auth;return Object(a.jsxs)(H.a,{size:"sm",show:e.show,onHide:e.handleClose,"aria-labelledby":"example-modal-sizes-title-sm",children:[Object(a.jsx)(H.a.Header,{closeButton:!0,children:Object(a.jsx)(H.a.Title,{id:"example-modal-sizes-title-sm",children:"Eliminar"})}),Object(a.jsxs)(H.a.Body,{children:["Esta seguro de que desea eliminar el ",t.type," - ",t.nombre]}),Object(a.jsxs)(H.a.Footer,{children:[Object(a.jsx)(F.a,{onClick:e.handleClose,className:"btn btn-light border border-gray btn-sm",children:"Cancelar"}),Object(a.jsx)(F.a,{onClick:function(){"emisor"===t.type&&c.emit("delEmisor",t.id),"usuario"===t.type&&c.emit("delUser",{id:t.id,id_user:n.uid}),"MikroTik"===t.type&&c.emit("delMkt",t.id),e.handleClose()},className:"btn btn-sm",children:"Eliminar"})]})]})},K=function(e){var t=Object(s.useContext)(S).socket,c=e.id,n=V({oid:"",oid2:"",id_oids:""}),i=Object(j.a)(n,3),r=i[0],l=i[1],b=i[2];Object(s.useEffect)((function(){m()}),[c]);var m=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a,s,n,i,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==c){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch("http://192.168.2.115:9008/api/roteos/".concat(c),{method:"GET"});case 4:if(200!==(t=e.sent).status){e.next=11;break}return e.next=8,t.json();case 8:a=e.sent,s=a.data,n=s.oid,i=s.oid2,r=s.id,b({oid:n,oid2:i,id_oids:r});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(H.a,{show:e.show,onHide:e.handleClose,animation:!1,children:[Object(a.jsx)(H.a.Header,{closeButton:!0,className:"bg-light",children:Object(a.jsx)("h5",{children:" Oids"})}),Object(a.jsx)(H.a.Body,{children:Object(a.jsxs)(L.a,{children:[Object(a.jsxs)("div",{className:"mb-3 row",children:[Object(a.jsx)("label",{className:"col-sm-2 col-form-label",children:"Oid 1"}),Object(a.jsx)("div",{className:"col-sm-10",children:Object(a.jsx)(L.a.Control,{name:"oid",value:r.oid,onChange:l,placeholder:"1.3.6.1.4.1.41112.1.4.7.1.17.1..."})})]}),Object(a.jsxs)("div",{className:"mb-3 row",children:[Object(a.jsx)("label",{className:"col-sm-2 col-form-label",children:"Oid 2"}),Object(a.jsx)("div",{className:"col-sm-10",children:Object(a.jsx)(L.a.Control,{name:"oid2",value:r.oid2,onChange:l,placeholder:"1.3.6.1.4.1.41112.1.4.7.1.18.1..."})})]})]})}),Object(a.jsxs)(H.a.Footer,{children:[Object(a.jsx)(F.a,{variant:"secondary",onClick:e.handleClose,children:"Calcelar"}),Object(a.jsx)(F.a,{variant:"primary",onClick:function(a){if(a.preventDefault(),0!==r.oid.length||0!==r.oid2.length){var s={oid:r.oid,oid2:r.oid2,id_roteos:c};console.log(s),r.id_oids.length>0?t.emit("editOids",s):t.emit("addOids",s),e.handleClose()}},children:"Guardar"})]})]})},Q=function(){var e=Object(s.useContext)(k).dispatch,t=Object(s.useState)(15),c=Object(j.a)(t,2),n=c[0],i=c[1],r=Object(s.useState)(0),l=Object(j.a)(r,2),b=l[0],m=l[1];Object(s.useEffect)((function(){O(0)}),[]);var h=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n>=0&&("+"===t&&i(n+15),"-"===t&&n>0&&i(n-15),O(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var t=Object(d.a)(o.a.mark((function t(c){var a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u("roteos/?limite=15&desde=".concat(c),{},"GET");case 2:(a=t.sent).emisores&&(e({type:v.cargarEmisores,payload:a.emisores}),s=parseInt(a.total),m(s));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsx)("nav",{"aria-label":"Page navigation ",children:b>n&&Object(a.jsxs)("ul",{className:"pagination",children:[Object(a.jsx)(F.a,{className:"page-item page-link",onClick:function(){return h("-")},children:"Anterior"}),Object(a.jsx)(F.a,{className:"page-item page-link  ",onClick:function(){return h("+")},children:"Siguiente"})]})})},Y=function(){var e=Object(s.useContext)(k),t=e.mainState,c=e.dispatch,n=t.emisores,i=Object(s.useState)(!1),r=Object(j.a)(i,2),l=r[0],o=r[1],d=Object(s.useState)(!0),b=Object(j.a)(d,2),m=b[0],u=b[1],h=Object(s.useState)({}),O=Object(j.a)(h,2),x=O[0],p=O[1],f=Object(s.useState)(!1),g=Object(j.a)(f,2),N=g[0],y=g[1],w=Object(s.useState)({}),C=Object(j.a)(w,2),S=C[0],E=C[1],A=Object(s.useState)(0),P=Object(j.a)(A,2),T=P[0],U=P[1],I=Object(s.useState)(!1),R=Object(j.a)(I,2),q=R[0],B=R[1];return Object(a.jsxs)("div",{className:"card m-3",children:[Object(a.jsx)("div",{className:"card-header bg-info bold",children:"Emisores"}),Object(a.jsx)("nav",{className:"navbar navbar-light bg-light",children:Object(a.jsx)("div",{className:"container-fluid",children:Object(a.jsx)(J,{})})}),Object(a.jsxs)("div",{className:"card-body shadow  bg-body rounded",children:[n.length>0&&Object(a.jsx)("div",{className:"table-responsive",children:Object(a.jsxs)("table",{className:"table  table-hover table-striped p-0",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",children:"Nombre"}),Object(a.jsx)("th",{scope:"col",children:"Equipo"}),Object(a.jsx)("th",{scope:"col",children:"IP"}),Object(a.jsx)("th",{scope:"col",children:"Frecuencia"}),Object(a.jsx)("th",{scope:"col",children:"Ancho de canal"}),Object(a.jsx)("th",{scope:"col",children:"Estado"}),Object(a.jsx)("th",{scope:"col"})]})}),Object(a.jsx)("tbody",{children:n.map((function(e){return Object(a.jsxs)("tr",{className:"p-0",children:[Object(a.jsx)("td",{className:"p-0",children:Object(a.jsx)(M.b,{className:"nav-item nav-link",to:"/graficos/".concat(e.id,"/true"),onClick:function(){return function(e){c({type:v.loadEmit,payload:e})}(e)},children:e.nombre})}),Object(a.jsxs)("td",{className:"p-0",children:[("Ubiquiti"===e.marca||"Ubiquiti AC"===e.marca)&&Object(a.jsx)(X.c,{className:"text-primary me-1"}),"Mimosa"===e.marca&&Object(a.jsx)(X.a,{className:"text-warning me-1"}),e.marca]}),Object(a.jsx)("td",{className:"p-0",children:e.puerto?Object(a.jsx)("a",{className:"nav-link",href:"http://"+e.ip+":"+e.puerto,target:"_blank",rel:"noopener noreferrer",children:e.ip+":"+e.puerto}):Object(a.jsx)("a",{className:"nav-link",href:"http://"+e.ip,target:"_blank",rel:"noopener noreferrer",children:e.ip})}),Object(a.jsxs)("td",{className:"p-0",children:[e.frecc," MHz"]}),Object(a.jsxs)("td",{className:"p-0",children:[e.wichanel," MHz"]}),Object(a.jsx)("td",{className:"p-0",children:0===e.online?Object(a.jsx)("div",{className:" alert-danger text-center",children:"Offline"}):Object(a.jsx)("div",{className:" alert-success text-center",children:"Online"})}),Object(a.jsxs)("td",{className:"text-center p-0",children:["Mimosa"!==e.marca&&1===e.monitoreo&&"PTP"===e.modo&&Object(a.jsx)(z.c,{title:"Oids",style:{color:"#0298db",fontSize:"23px",marginRight:"10px"},onClick:function(){return t=e.ip,U(t),void B(!0);var t}}),Object(a.jsx)(z.d,{style:{color:"#0298db",fontSize:"23px",marginRight:"10px"},onClick:function(){return function(e){0===e.monitoreo&&u(!1),p(e),o(!0)}(e)}}),Object(a.jsx)(z.e,{style:{color:"#0298db",fontSize:"20px"},onClick:function(){return E({id:(t=e).id,nombre:t.nombre,type:"emisor"}),void y(!0);var t}})]})]},e.id)}))})]})}),Object(a.jsx)(Q,{className:"m-4"})]}),Object(a.jsx)(K,{show:q,handleClose:function(){B(!1)},id:T}),Object(a.jsx)(G,{show:l,handleClose:function(){o(!1)},emisor:x,radio:m}),Object(a.jsx)(W,{show:N,handleClose:function(){y(!1)},item:S})]})},Z=function(e){var t=Object(s.useContext)(S).socket,c=e.mktik,n=c.id,i=void 0===n?"":n,r=c.nombre,l=c.ip,o=c.puerto,d=V({nombre:"",ip:"",puerto:""}),b=Object(j.a)(d,4),m=b[0],u=b[1],h=b[2],O=b[3];Object(s.useEffect)((function(){x()}),[i]);var x=function(){0!==i.length&&O({nombre:r,ip:l,puerto:o})};return Object(a.jsxs)(H.a,{show:e.show,onHide:e.handleClose,animation:!1,children:[Object(a.jsx)(H.a.Header,{closeButton:!0,className:"bg-light",children:i.length>0?Object(a.jsx)("h5",{children:"Editar MikroTik"}):Object(a.jsx)("h5",{children:"Nuevo MikroTik"})}),Object(a.jsx)(H.a.Body,{children:Object(a.jsxs)(L.a,{children:[Object(a.jsxs)("div",{className:"mb-3 row",children:[Object(a.jsx)("label",{className:"col-sm-2 col-form-label",children:"Nombre"}),Object(a.jsx)("div",{className:"col-sm-10",children:Object(a.jsx)(L.a.Control,{id:"area",name:"nombre",value:m.nombre,onChange:u,placeholder:"Emisor"})})]}),Object(a.jsxs)("div",{className:"mb-3 row",children:[Object(a.jsx)("label",{className:"col-sm-2 col-form-label",children:"Ip"}),Object(a.jsx)("div",{className:"col-sm-10",children:Object(a.jsx)(L.a.Control,{name:"ip",value:m.ip,onChange:u,placeholder:"ip"})})]}),Object(a.jsxs)("div",{className:"mb-3 row",children:[Object(a.jsx)("label",{className:"col-sm-2 col-form-label",children:"Puerto"}),Object(a.jsx)("div",{className:"col-sm-4",children:Object(a.jsx)(L.a.Control,{name:"puerto",value:m.puerto,onChange:u,placeholder:"puerto"})})]})]})}),Object(a.jsxs)(H.a.Footer,{children:[Object(a.jsx)(F.a,{variant:"secondary",onClick:e.handleClose,children:"Calcelar"}),Object(a.jsx)(F.a,{variant:"primary",onClick:function(c){c.preventDefault();var a={nombre:m.nombre,ip:m.ip,puerto:m.puerto};i.length>0?t.emit("editMkt",Object(N.a)({id:i},a)):t.emit("addMkt",a),e.handleClose(),h()},children:"Guardar"})]})]})},$=function(){var e=Object(s.useContext)(S).socket,t=Object(s.useContext)(h).auth,c=Object(s.useState)(!1),n=Object(j.a)(c,2),i=n[0],r=n[1],l=Object(s.useState)(""),o=Object(j.a)(l,2),d=o[0],b=o[1],m=Object(s.useState)({}),u=Object(j.a)(m,2),O=u[0],x=u[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic mixed styles example",children:Object(a.jsx)("button",{type:"button",className:"btn btn-light btn-outline-primary",onClick:function(){x({}),r(!0)},children:"+ A\xf1adir"})}),Object(a.jsx)("div",{className:"d-flex",children:Object(a.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Buscar...","aria-label":"Search",value:d,onChange:function(c){var a=c.target;b(a.value),e.mktik("getMkt",{find:d,id_user:t.uid})}})}),Object(a.jsx)(Z,{show:i,handleClose:function(){r(!1)},mktik:O})]})},ee=function(){var e=Object(s.useContext)(k).mainState.mikroTiks,t=Object(s.useState)(!1),c=Object(j.a)(t,2),n=c[0],i=c[1],r=Object(s.useState)({}),l=Object(j.a)(r,2),o=l[0],d=l[1],b=Object(s.useState)(!1),m=Object(j.a)(b,2),u=m[0],h=m[1],O=Object(s.useState)({}),x=Object(j.a)(O,2),p=x[0],f=x[1];return Object(a.jsxs)("div",{className:"card m-3",children:[Object(a.jsx)("div",{className:"card-header bg-info bold",children:"MikroTiks"}),Object(a.jsx)("nav",{className:"navbar navbar-light bg-light",children:Object(a.jsx)("div",{className:"container-fluid",children:Object(a.jsx)($,{})})}),e.length>0&&Object(a.jsx)("div",{className:"card-body shadow  bg-body rounded",children:Object(a.jsx)("div",{className:"table-responsive",children:Object(a.jsxs)("table",{className:"table   table-striped p-0",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",children:"Nombre"}),Object(a.jsx)("th",{scope:"col",children:"Equipo"}),Object(a.jsx)("th",{scope:"col",children:"IP"}),Object(a.jsx)("th",{scope:"col",children:"Estado"}),Object(a.jsx)("th",{scope:"col"})]})}),Object(a.jsx)("tbody",{children:e.map((function(e){return Object(a.jsxs)("tr",{className:"p-0",children:[Object(a.jsx)("td",{className:"p-0",children:Object(a.jsx)(M.b,{className:"nav-item nav-link",to:"/graficos/".concat(e.id,"/false"),children:e.nombre})}),Object(a.jsxs)("td",{className:"p-0",children:[Object(a.jsx)(X.b,{className:"bold me-1"}),e.marca]}),Object(a.jsx)("td",{className:"p-0",children:e.puerto?Object(a.jsx)("a",{className:"nav-link",href:"http://"+e.ip+":"+e.puerto,target:"_blank",rel:"noopener noreferrer",children:e.ip+":"+e.puerto}):Object(a.jsx)("a",{className:"nav-link",href:"http://"+e.ip,target:"_blank",rel:"noopener noreferrer",children:e.ip})}),Object(a.jsx)("td",{className:"p-0",children:0===e.online?Object(a.jsx)("div",{className:" alert-danger text-center",children:"Offline"}):Object(a.jsx)("div",{className:" alert-success text-center",children:"Online"})}),Object(a.jsxs)("td",{className:"text-center p-0",children:[Object(a.jsx)(z.d,{style:{color:"#0298db",fontSize:"23px",marginRight:"10px"},onClick:function(){return function(e){d(e),i(!0)}(e)}}),Object(a.jsx)(z.e,{style:{color:"#0298db",fontSize:"20px"},onClick:function(){return f({id:(t=e).id,nombre:t.nombre,type:"MikroTik"}),void h(!0);var t}})]})]},e.id)}))})]})})}),Object(a.jsx)(Z,{show:n,handleClose:function(){i(!1)},mktik:o}),Object(a.jsx)(W,{show:u,handleClose:function(){h(!1)},item:p})]})},te=function(){return Object(a.jsxs)("div",{className:"overflow-auto",style:{height:"100vh",width:"84%",justify:"center",background:"#ecedef"},children:[Object(a.jsx)("div",{style:{background:"#04c294"},className:"col-12",children:Object(a.jsx)("h2",{className:"bold text-white  p-2",children:" Dashboard "})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"justify-content-center",children:Object(a.jsx)(_,{className:"col-auto"})})}),Object(a.jsx)(Y,{}),Object(a.jsx)(ee,{})]})},ce=c(24),ae=c.n(ce),se=function(e){var t=e.id,c=e.time,a=e.endpoint,n=e.type,i=void 0===n?"":n,r=e.ip,l=void 0===r?"":r,b=e.modo,m=void 0===b?"":b,h=Object(s.useState)(!0),O=Object(j.a)(h,2),x=O[0],p=O[1],f=Object(s.useState)([]),v=Object(j.a)(f,2),g=v[0],N=v[1],y=Object(s.useState)([]),k=Object(j.a)(y,2),w=k[0],C=k[1];Object(s.useEffect)((function(){S({id:t,time:c})}),[]);var S=function(){var e=Object(d.a)(o.a.mark((function e(t){var c,s,n,r,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.id,s=t.time,e.next=3,u(a,{id:c,time:s,type:i,ip:l,modo:m},"POST");case 3:(n=e.sent).ok&&(r=n.data,d=n.fechas,N(r),C(d)),p(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{loading:x,data:g,fechas:w,setValues:function(e){var t=e.id,c=e.time;S({id:t,time:c})}}},ne=function(e){var t=e.id,c=Object(s.useContext)(k).mainState.emisorActivo,n=c.ip,i=c.marca,r=c.modo,l=V({ping:"30 min"}),o=Object(j.a)(l,2),d=o[0],b=o[1],m=d.ping,u=se({id:t,ip:n,modo:r,time:m,type:i,endpoint:"graf/capacity"}),h=u.loading,O=u.data,x=u.fechas,p=u.setValues;if(Object(s.useEffect)((function(){p({id:t,time:m,type:i,ip:n,modo:r})}),[m,i,r]),h)return Object(a.jsx)("div",{className:"col-12 card bg-main justify-content-center",children:Object(a.jsx)("div",{className:"text-center col-auto",children:Object(a.jsx)("div",{className:"spinner-border text-success",children:Object(a.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})});var f={chart:{id:"apexchart-Capcidad",zoom:{enabled:!0}},xaxis:{type:"category",categories:x,tickAmount:12},stroke:{curve:"smooth"},dataLabels:{enabled:!1}},v=O;return Object(a.jsx)("div",{className:"col-12 card bg-main justify-content-center",children:Object(a.jsxs)("div",{className:"col-auto",children:[Object(a.jsx)("div",{className:"card-header bg-cardh",style:{background:"#0276aa"},children:Object(a.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(a.jsx)("div",{className:"mt-2 bold-text",children:"Capacidad"}),Object(a.jsxs)(L.a.Select,{style:{width:"150px"},value:m,onChange:b,name:"ping",children:[Object(a.jsx)("option",{children:"30 min"}),Object(a.jsx)("option",{children:"Ultima hora"}),Object(a.jsx)("option",{children:"Dia"}),Object(a.jsx)("option",{children:"Semana"}),Object(a.jsx)("option",{children:"Mes"}),Object(a.jsx)("option",{children:"A\xf1o"})]})]})}),Object(a.jsx)(ae.a,{options:f,series:v,type:"area",width:"100%",height:320})]})})},ie=c(87),re=c(88),le=function(e){var t=e.frecuencia,c=e.lan,s=e.widthChannel;return Object(a.jsxs)("div",{className:"row mx-2",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"card card-succ shadow  bg-body rounded",children:Object(a.jsxs)("div",{className:"card-body row",children:[Object(a.jsx)("div",{className:"col-4 text-center",children:Object(a.jsx)(ie.a,{className:"icono2"})}),Object(a.jsxs)("div",{className:"col-8 text-center",children:[Object(a.jsx)("h6",{className:"card-title ",children:"Frecuencia"}),Object(a.jsxs)("b",{className:"fs-3",children:[t," MHz"]})]})]})})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"card card-warn shadow  bg-body rounded",children:Object(a.jsxs)("div",{className:"card-body row",children:[Object(a.jsx)("div",{className:"col-4 text-center",children:Object(a.jsx)(re.a,{className:"icono"})}),Object(a.jsxs)("div",{className:"col-8 text-center",children:[Object(a.jsx)("h6",{className:"card-title ",children:"Ancho de canal"}),Object(a.jsxs)("b",{className:"fs-3",children:[s," MHz"]})]})]})})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"card card-succ shadow  bg-body rounded",children:Object(a.jsxs)("div",{className:"card-body row",children:[Object(a.jsx)("div",{className:"col-4 text-center",children:Object(a.jsx)(z.a,{className:"icono2"})}),Object(a.jsxs)("div",{className:"col-8 text-center",children:[Object(a.jsx)("h6",{className:"card-title ",children:"LAN"}),Object(a.jsxs)("b",{className:"fs-3",children:[c," Mbps"]})]})]})})})]})},oe=function(e){var t=e.id,c=(Object(s.useContext)(S).socket,Object(s.useContext)(k).mainState.emisorActivo),n=c.ip,i=c.marca,r=c.modo,l=V({ping:"30 min"}),o=Object(j.a)(l,2),d=o[0],b=o[1],m=d.ping,u=se({id:t,ip:n,modo:r,time:m,type:i,endpoint:"graf/intencity"}),h=u.loading,O=u.data,x=u.fechas,p=u.setValues;if(Object(s.useEffect)((function(){p({id:t,time:m,type:i,ip:n,modo:r})}),[m,i,r]),h)return Object(a.jsx)("div",{className:"col-12 card bg-main justify-content-center",children:Object(a.jsx)("div",{className:"text-center col-auto",children:Object(a.jsx)("div",{className:"spinner-border text-success",children:Object(a.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})});var f={chart:{id:"apexchart-intencity",zoom:{enabled:!0}},xaxis:{type:"category",categories:x,tickAmount:12},stroke:{curve:"smooth"},dataLabels:{enabled:!1},colors:["#ec340b"]},v=[{name:"Intencidad",data:O}];return Object(a.jsx)("div",{className:"col-12 card bg-main justify-content-center",children:Object(a.jsxs)("div",{className:"col-auto",children:[Object(a.jsx)("div",{className:"card-header bg-cardh",style:{background:"#cc0000"},children:Object(a.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(a.jsx)("div",{className:"mt-2 bold-text",children:"Intencidad de se\xf1al"}),Object(a.jsxs)(L.a.Select,{style:{width:"150px"},value:m,onChange:b,name:"ping",children:[Object(a.jsx)("option",{children:"30 min"}),Object(a.jsx)("option",{children:"Ultima hora"}),Object(a.jsx)("option",{children:"Dia"}),Object(a.jsx)("option",{children:"Semana"}),Object(a.jsx)("option",{children:"Mes"}),Object(a.jsx)("option",{children:"A\xf1o"})]})]})}),Object(a.jsx)(ae.a,{options:f,series:v,type:"area",width:"100%",height:320})]})})},de=function(e){var t=e.id,c=Object(s.useContext)(k).mainState.emisorActivo,n=c.ip,i=c.marca,r=c.modo,l=V({ping:"30 min"}),o=Object(j.a)(l,2),d=o[0],b=o[1],m=d.ping,u=se({id:t,ip:n,modo:r,time:m,type:i,endpoint:"graf/ruido"}),h=u.loading,O=u.data,x=u.fechas,p=u.setValues;if(Object(s.useEffect)((function(){p({id:t,time:m,type:i,ip:n,modo:r})}),[m,i,r]),h)return Object(a.jsx)("div",{className:"col-12 card bg-main justify-content-center",children:Object(a.jsx)("div",{className:"text-center col-auto",children:Object(a.jsx)("div",{className:"spinner-border text-success",children:Object(a.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})});var f={chart:{id:"apexchart-ruido",zoom:{enabled:!0}},xaxis:{type:"category",categories:x,tickAmount:12},stroke:{curve:"smooth"},dataLabels:{enabled:!1},colors:["#ef06af","#9e1fd3"]},v=O;return Object(a.jsx)("div",{className:"col-12 card bg-main justify-content-center",children:Object(a.jsxs)("div",{className:"col-auto",children:[Object(a.jsx)("div",{className:"card-header bg-cardh",style:{background:"#9e1fd3"},children:Object(a.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(a.jsx)("div",{className:"mt-2 bold-text",children:"Ruido"}),Object(a.jsxs)(L.a.Select,{style:{width:"150px"},value:m,onChange:b,name:"ping",children:[Object(a.jsx)("option",{children:"30 min"}),Object(a.jsx)("option",{children:"Ultima hora"}),Object(a.jsx)("option",{children:"Dia"}),Object(a.jsx)("option",{children:"Semana"}),Object(a.jsx)("option",{children:"Mes"}),Object(a.jsx)("option",{children:"A\xf1o"})]})]})}),Object(a.jsx)(ae.a,{options:f,series:v,type:"area",width:"100%",height:320})]})})},je=function(e){var t=e.id,c=V({ping:"30 min"}),n=Object(j.a)(c,2),i=n[0],r=n[1],l=i.ping,o=se({id:t,time:l,endpoint:"graf/pings"}),d=o.loading,b=o.data,m=o.fechas,u=o.setValues;if(Object(s.useEffect)((function(){u({id:t,time:l})}),[l]),d)return Object(a.jsx)("div",{className:"col-12 card bg-main justify-content-center",children:Object(a.jsx)("div",{className:"text-center col-auto",children:Object(a.jsx)("div",{className:"spinner-border text-success",children:Object(a.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})});var h={chart:{id:"apexchart-example",zoom:{enabled:!0}},xaxis:{type:"category",categories:m,tickAmount:12},stroke:{curve:"smooth"},dataLabels:{enabled:!1},colors:["#14ab13"]},O=[{name:"ping",data:b}];return Object(a.jsx)("div",{className:"col-12 card bg-main justify-content-center",children:Object(a.jsxs)("div",{className:"col-auto",children:[Object(a.jsx)("div",{className:"card-header bg-cardh",style:{background:"#008000"},children:Object(a.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(a.jsx)("div",{className:"mt-2 bold-text",children:"Ping"}),Object(a.jsxs)(L.a.Select,{style:{width:"150px"},value:l,onChange:r,name:"ping",children:[Object(a.jsx)("option",{children:"30 min"}),Object(a.jsx)("option",{children:"Ultima hora"}),Object(a.jsx)("option",{children:"Dia"}),Object(a.jsx)("option",{children:"Semana"}),Object(a.jsx)("option",{children:"Mes"}),Object(a.jsx)("option",{children:"A\xf1o"})]})]})}),Object(a.jsx)(ae.a,{options:h,series:O,type:"area",width:"100%",height:320})]})})},be=function(){var e=Object(s.useContext)(k),t=e.mainState,c=e.dispatch,n=t.emisorActivo,i=Object(A.h)().id,r=Object(s.useState)(!0),l=Object(j.a)(r,2),b=l[0],m=l[1],h=n.frecc,O=void 0===h?0:h,x=n.wichanel,p=void 0===x?0:x,f=n.lan,g=void 0===f?0:f,N=n.modo,y=n.marca,w=n.nombre;Object(s.useEffect)((function(){C()}),[]);var C=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("roteos/emisor",{id:i},"POST");case 2:(t=e.sent).Emit&&(c({type:v.loadEmit,payload:t.Emit}),m(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return b?Object(a.jsx)("div",{className:"col-12 card bg-main justify-content-center",children:Object(a.jsx)("div",{className:"text-center col-auto",children:Object(a.jsx)("div",{className:"spinner-border text-success",children:Object(a.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}):Object(a.jsxs)("div",{className:"overflow-auto",style:{height:"100vh",width:"84%",justify:"center",background:"rgb(245, 245, 245)"},children:[Object(a.jsx)("div",{style:{background:"#04c294"},className:"col-12 mb-3",children:Object(a.jsxs)("h2",{className:"bold text-white  p-2",children:["Estadisticas ",w]})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-sm-12 mt-4 mb-2",children:Object(a.jsx)(le,{frecuencia:O,widthChannel:p,lan:g})})}),Object(a.jsx)("div",{id:"chart",className:"card",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)(de,{id:i}),"Mimosa"===y&&Object(a.jsx)(ne,{id:i}),"Ubiquiti"===y&&"PTP"===N&&Object(a.jsx)(ne,{id:i}),"Ubiquiti AC"===y&&"PTP"===N&&Object(a.jsx)(ne,{id:i}),"Mimosa"===y&&Object(a.jsx)(oe,{id:i}),"Ubiquiti"===y&&"PTP"===N&&Object(a.jsx)(oe,{id:i}),"Ubiquiti AC"===y&&"PTP"===N&&Object(a.jsx)(oe,{id:i}),Object(a.jsx)(je,{id:i})]})})]})},me=c(89),ue=function(e){var t=Object(s.useContext)(S).socket,c=e.usuario,n=c.id,i=void 0===n?"":n,r=c.nombre,l=c.email,o=c.rol,d=V({nombre:"",email:"",role:"ADMIN_ROLE",password:""}),b=Object(j.a)(d,4),m=b[0],u=b[1],h=(b[2],b[3]);Object(s.useEffect)((function(){O()}),[i]);var O=function(){0===i.length?h({nombre:"",email:"",role:"ADMIN_ROLE",password:""}):h({nombre:r,email:l,role:o,password:""})};return Object(a.jsxs)(H.a,{show:e.show,onHide:e.handleClose,animation:!1,children:[Object(a.jsx)(H.a.Header,{closeButton:!0,className:"bg-light",children:i.length>0?Object(a.jsx)("h5",{children:"Editar Usuario"}):Object(a.jsx)("h5",{children:"Nuevo Usuario"})}),Object(a.jsx)(H.a.Body,{children:Object(a.jsxs)(L.a,{children:[Object(a.jsxs)("div",{className:"mb-3 row",children:[Object(a.jsx)("label",{className:"col-sm-2 col-form-label",children:"Nombre"}),Object(a.jsx)("div",{className:"col-sm-10",children:Object(a.jsx)(L.a.Control,{id:"area",name:"nombre",value:m.nombre,onChange:u,placeholder:"Usuario"})})]}),Object(a.jsxs)("div",{className:"mb-3 row",children:[Object(a.jsx)("label",{className:"col-sm-2 col-form-label",children:"Email"}),Object(a.jsx)("div",{className:"col-sm-10",children:Object(a.jsx)(L.a.Control,{name:"email",value:m.email,onChange:u,placeholder:"@email"})})]}),Object(a.jsxs)("div",{className:"mb-3 row",children:[Object(a.jsx)("label",{className:"col-sm-2 col-form-label",children:"Contrase\xf1a"}),Object(a.jsx)("div",{className:"col-sm-10",children:Object(a.jsx)(L.a.Control,{name:"password",type:"password",value:m.password,onChange:u,placeholder:"Contrase\xf1a"})})]}),Object(a.jsxs)("div",{className:"mb-3 row",children:[Object(a.jsx)("label",{className:"col-sm-2 col-form-label",children:"Rol"}),Object(a.jsx)("div",{className:"col-sm-10",children:Object(a.jsxs)(L.a.Select,{name:"role",value:m.role,onChange:u,children:[Object(a.jsx)("option",{children:"ADMIN_ROLE"}),Object(a.jsx)("option",{children:"USER_ROLE"})]})})]})]})}),Object(a.jsxs)(H.a.Footer,{children:[Object(a.jsx)(F.a,{variant:"secondary",onClick:e.handleClose,children:"Calcelar"}),Object(a.jsx)(F.a,{variant:"primary",onClick:function(c){c.preventDefault();var a={nombre:m.nombre,email:m.email,rol:m.role,password:m.password};console.log(a),i.length>0?t.emit("editUser",Object(N.a)({id:i},a)):t.emit("addUser",a),e.handleClose()},children:"Guardar"})]})]})},he=function(){Object(s.useContext)(S).socket;var e=Object(s.useState)(!1),t=Object(j.a)(e,2),c=t[0],n=t[1],i=Object(s.useState)({}),r=Object(j.a)(i,2),l=r[0],o=r[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic mixed styles example",children:Object(a.jsx)("button",{type:"button",className:"btn btn-light btn-outline-primary",onClick:function(){o({}),n(!0)},children:"+ A\xf1adir"})}),Object(a.jsx)("div",{className:"d-flex"}),Object(a.jsx)(ue,{show:c,handleClose:function(){n(!1)},usuario:l}),Object(a.jsx)(U.a,{})]})},Oe=function(){var e=Object(s.useContext)(k).mainState.usuarios,t=Object(s.useState)({}),c=Object(j.a)(t,2),n=c[0],i=c[1],r=Object(s.useState)(!1),l=Object(j.a)(r,2),o=l[0],d=l[1],b=Object(s.useState)(!1),m=Object(j.a)(b,2),u=m[0],h=m[1],O=Object(s.useState)({}),x=Object(j.a)(O,2),p=x[0],f=x[1];return Object(a.jsxs)("div",{className:"card m-3",children:[Object(a.jsx)("div",{className:"card-header bg-info bold",children:"Usuarios"}),Object(a.jsx)("nav",{className:"navbar navbar-light bg-light",children:Object(a.jsx)("div",{className:"container-fluid",children:Object(a.jsx)(he,{})})}),Object(a.jsx)("div",{className:"card-body shadow  bg-body rounded",children:Object(a.jsxs)("table",{className:"table table-responsive  table-striped",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",children:"Nombre"}),Object(a.jsx)("th",{scope:"col",children:"Email"}),Object(a.jsx)("th",{scope:"col",children:"Rol"}),Object(a.jsx)("th",{scope:"col"})]})}),Object(a.jsx)("tbody",{children:e.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:e.nombre}),Object(a.jsx)("td",{children:e.email}),Object(a.jsxs)("td",{children:["USER_ROL"===e.rol?Object(a.jsx)(me.a,{className:"icontab"}):Object(a.jsx)(z.h,{className:"icontab"}),e.rol]}),Object(a.jsxs)("td",{className:"text-center",children:[Object(a.jsx)(z.d,{style:{color:"#0298db",fontSize:"23px",marginRight:"10px"},onClick:function(){return i(e),void d(!0)}}),Object(a.jsx)(z.e,{style:{color:"#0298db",fontSize:"20px"},onClick:function(){return f({id:(t=e).id,nombre:t.nombre,type:"usuario"}),void h(!0);var t}})]})]},e.id)}))})]})}),Object(a.jsx)(ue,{show:o,handleClose:function(){d(!1)},usuario:n}),Object(a.jsx)(W,{show:u,handleClose:function(){h(!1)},item:p})]})},xe=function(){return Object(a.jsxs)("div",{className:"overflow-auto",style:{height:"100vh",width:"84%",justify:"center",background:"#ecedef"},children:[Object(a.jsx)("div",{style:{background:"#04c294"},className:"col-12",children:Object(a.jsx)("h2",{className:"bold text-white  p-2",children:"Usuarios"})}),Object(a.jsx)(Oe,{})]})},pe=function(){return Object(a.jsxs)("div",{style:{height:"100vh",flexDirection:"row",display:"flex"},children:[Object(a.jsx)(B,{}),Object(a.jsxs)(A.d,{children:[Object(a.jsx)(A.b,{path:"/",element:Object(a.jsx)(te,{})}),Object(a.jsx)(A.b,{path:"/usuarios",element:Object(a.jsx)(xe,{})}),Object(a.jsx)(A.b,{path:"/graficos/:id/:cards",element:Object(a.jsx)(be,{})}),Object(a.jsx)(A.b,{path:"/*",element:Object(a.jsx)(te,{})})]})]})},fe=function(e){var t=e.children;return e.isAuthenticated?t:Object(a.jsx)(A.a,{to:"/auth/login"})},ve=function(e){var t=e.children;return e.isAuthenticated?Object(a.jsx)(A.a,{to:"/"}):t},ge=function(){var e=Object(s.useContext)(h),t=e.auth,c=e.verificaToken;return Object(s.useEffect)((function(){c()}),[c]),t.checking?Object(a.jsx)("h1",{children:"Espere por favor"}):Object(a.jsx)("div",{children:Object(a.jsx)(M.a,{children:Object(a.jsxs)(A.d,{children:[Object(a.jsx)(A.b,{path:"/auth/*",element:Object(a.jsx)(ve,{isAuthenticated:t.logged,children:Object(a.jsx)(R,{})})}),Object(a.jsx)(A.b,{path:"*",element:Object(a.jsx)(fe,{isAuthenticated:t.logged,children:Object(a.jsx)(pe,{})})})]})})})},Ne=c(53),ye=c.n(Ne);c(151),c(152);ye.a.locale("es");var ke=function(){return Object(a.jsx)(x,{children:Object(a.jsx)(C,{children:Object(a.jsx)(E,{children:Object(a.jsx)(ge,{})})})})};r.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(ke,{})}),document.getElementById("root"))},77:function(e,t,c){}},[[153,1,2]]]);
//# sourceMappingURL=main.8017e35c.chunk.js.map